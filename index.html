<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productivity Pomodoro - Task & Reward System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        
        /* Left Column - Pomodoro Timer */
        .timer-column {
            background: rgba(30, 30, 46, 0.85);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff6b6b, #ffa500);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .tagline {
            color: #aaa;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .timer-container {
            text-align: center;
            padding: 30px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .timer {
            font-size: 6rem;
            font-weight: bold;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            color: #ff6b6b;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }
        
        .timer-label {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #ddd;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 25px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-start {
            background: linear-gradient(90deg, #00b09b, #96c93d);
            color: white;
        }
        
        .btn-pause {
            background: linear-gradient(90deg, #ffa500, #ff8c00);
            color: white;
        }
        
        .btn-reset {
            background: linear-gradient(90deg, #8e2de2, #4a00e0);
            color: white;
        }
        
        .btn-skip {
            background: linear-gradient(90deg, #ff416c, #ff4b2b);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .sessions {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .session-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #ffa500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .session-counter {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .session-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            flex: 1;
            margin: 0 5px;
        }
        
        .session-item.active {
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid rgba(255, 107, 107, 0.5);
        }
        
        .session-type {
            font-size: 1rem;
            margin-bottom: 5px;
            color: #ccc;
        }
        
        .session-count {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .settings {
            margin-bottom: 20px;
        }
        
        .setting-group {
            margin-bottom: 15px;
        }
        
        .setting-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #4ecdc4;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .time-input {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .time-input label {
            font-size: 1.1rem;
            color: #ddd;
        }
        
        .time-input input {
            width: 70px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: white;
            font-size: 1.2rem;
            text-align: center;
        }
        
        /* Right Column - Tasks & Rewards */
        .tasks-column {
            background: rgba(30, 30, 46, 0.85);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            padding: 30px;
            display: flex;
            flex-direction: column;
        }
        
        .column-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }
        
        .column-title {
            font-size: 2rem;
            color: #4ecdc4;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .points-container {
            background: linear-gradient(90deg, #8e2de2, #4a00e0);
            padding: 10px 20px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .tab.active {
            border-bottom: 3px solid #ff6b6b;
            color: #ff6b6b;
        }
        
        .tab-content {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .tab-pane {
            display: none;
            height: 100%;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        /* Tasks Panel */
        .add-task {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .add-task input {
            flex-grow: 1;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 1.1rem;
        }
        
        .add-task button {
            background: linear-gradient(90deg, #00b09b, #96c93d);
            color: white;
            border-radius: 10px;
        }
        
        .task-list {
            max-height: 350px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .task-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s;
            border-left: 4px solid #ff6b6b;
        }
        
        .task-item.completed {
            opacity: 0.7;
            border-left-color: #00b09b;
        }
        
        .task-checkbox {
            width: 22px;
            height: 22px;
            cursor: pointer;
        }
        
        .task-content {
            flex-grow: 1;
        }
        
        .task-title {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .task-description {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .task-actions {
            display: flex;
            gap: 10px;
        }
        
        .task-actions button {
            padding: 8px 12px;
            font-size: 0.9rem;
        }
        
        /* Rewards Panel */
        .reward-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffa500;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .rewards-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 25px;
        }
        
        .reward-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #8e2de2;
        }
        
        .reward-info h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .reward-info p {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .reward-cost {
            font-weight: bold;
            color: #ffa500;
            font-size: 1.2rem;
        }
        
        .reward-actions button {
            background: linear-gradient(90deg, #8e2de2, #4a00e0);
            color: white;
        }
        
        .reward-actions button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Motivational Messages */
        .motivation-container {
            background: rgba(255, 107, 107, 0.1);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 107, 107, 0.3);
            margin-top: 20px;
        }
        
        .motivation-title {
            color: #ffa500;
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .motivation-text {
            font-size: 1.1rem;
            font-style: italic;
            color: #ddd;
            min-height: 60px;
            display: flex;
            align-items: center;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ff6b6b;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 100;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            background: #00b09b;
        }
        
        .notification.info {
            background: #4a00e0;
        }
        
        footer {
            text-align: center;
            color: #777;
            font-size: 0.9rem;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            grid-column: 1 / -1;
        }
        
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .timer {
                font-size: 5rem;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .timer {
                font-size: 4rem;
            }
            
            .session-counter {
                flex-direction: column;
                gap: 10px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 100%;
                max-width: 300px;
            }
            
            .reward-stats {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .timer {
                font-size: 3.5rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .add-task {
                flex-direction: column;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                text-align: center;
            }
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 107, 0.5);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 107, 107, 0.7);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Left Column - Pomodoro Timer -->
        <div class="timer-column">
            <header>
                <h1><i class="fas fa-clock"></i> Pomodoro Timer</h1>
                <p class="tagline">Work with focus, rest with intention</p>
            </header>
            
            <div class="timer-container">
                <div class="timer-label" id="timerLabel">Work Session</div>
                <div class="timer" id="timer">25:00</div>
            </div>
            
            <div class="controls">
                <button class="btn-start" id="startBtn">
                    <i class="fas fa-play"></i> Start
                </button>
                <button class="btn-pause" id="pauseBtn">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button class="btn-reset" id="resetBtn">
                    <i class="fas fa-redo"></i> Reset
                </button>
                <button class="btn-skip" id="skipBtn">
                    <i class="fas fa-forward"></i> Skip
                </button>
            </div>
            
            <div class="sessions">
                <div class="session-title">
                    <i class="fas fa-chart-line"></i> Session Progress
                </div>
                <div class="session-counter">
                    <div class="session-item active" id="workSession">
                        <div class="session-type">Work</div>
                        <div class="session-count" id="workCount">0</div>
                    </div>
                    <div class="session-item" id="shortBreakSession">
                        <div class="session-type">Short Break</div>
                        <div class="session-count" id="shortBreakCount">0</div>
                    </div>
                    <div class="session-item" id="longBreakSession">
                        <div class="session-type">Long Break</div>
                        <div class="session-count" id="longBreakCount">0</div>
                    </div>
                </div>
            </div>
            
            <div class="settings">
                <div class="setting-group">
                    <div class="setting-title">
                        <i class="fas fa-cog"></i> Timer Settings
                    </div>
                    <div class="time-input">
                        <label for="workTime">Work (min):</label>
                        <input type="number" id="workTime" min="1" max="60" value="25">
                    </div>
                    <div class="time-input">
                        <label for="shortBreakTime">Short Break (min):</label>
                        <input type="number" id="shortBreakTime" min="1" max="30" value="5">
                    </div>
                    <div class="time-input">
                        <label for="longBreakTime">Long Break (min):</label>
                        <input type="number" id="longBreakTime" min="1" max="60" value="15">
                    </div>
                    <div class="time-input">
                        <label for="sessionsBeforeLongBreak">Sessions before long break:</label>
                        <input type="number" id="sessionsBeforeLongBreak" min="1" max="10" value="4">
                    </div>
                </div>
            </div>
            
            <div class="motivation-container">
                <div class="motivation-title">
                    <i class="fas fa-bullhorn"></i> Motivation
                </div>
                <div class="motivation-text" id="motivationText">
                    Every completed Pomodoro brings you closer to your goals! Stay focused!
                </div>
            </div>
        </div>
        
        <!-- Right Column - Tasks & Rewards -->
        <div class="tasks-column">
            <div class="column-header">
                <div class="column-title">
                    <i class="fas fa-tasks"></i> Task & Reward System
                </div>
                <div class="points-container">
                    <i class="fas fa-coins"></i>
                    <span id="pointsTotal">0</span> Points
                </div>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="tasks">Tasks</div>
                <div class="tab" data-tab="rewards">Rewards</div>
                <div class="tab" data-tab="stats">Statistics</div>
            </div>
            
            <div class="tab-content">
                <!-- Tasks Panel -->
                <div class="tab-pane active" id="tasks-pane">
                    <div class="add-task">
                        <input type="text" id="taskInput" placeholder="Enter a new task...">
                        <button id="addTaskBtn">
                            <i class="fas fa-plus"></i> Add Task
                        </button>
                    </div>
                    
                    <div class="task-list" id="taskList">
                        <!-- Tasks will be added here dynamically -->
                    </div>
                </div>
                
                <!-- Rewards Panel -->
                <div class="tab-pane" id="rewards-pane">
                    <div class="rewards-list" id="rewardsList">
                        <!-- Rewards will be added here dynamically -->
                    </div>
                </div>
                
                <!-- Statistics Panel -->
                <div class="tab-pane" id="stats-pane">
                    <div class="reward-stats">
                        <div class="stat-box">
                            <div class="stat-value" id="totalTasksCompleted">0</div>
                            <div class="stat-label">Tasks Completed</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="totalPomodoros">0</div>
                            <div class="stat-label">Pomodoros Completed</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="totalPointsEarned">0</div>
                            <div class="stat-label">Points Earned</div>
                        </div>
                    </div>
                    
                    <div class="motivation-container">
                        <div class="motivation-title">
                            <i class="fas fa-trophy"></i> Achievement Summary
                        </div>
                        <div class="motivation-text">
                            <div id="achievementSummary">Complete your first task to see achievements!</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Productivity Pomodoro • Task Management & Reward System • Built with <i class="fas fa-heart" style="color: #ff6b6b;"></i></p>
        </footer>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-bell"></i> <span id="notificationText">Work session completed!</span>
    </div>

    <script>
        // Variables globales
        let timer;
        let timeLeft;
        let isRunning = false;
        let isWorkSession = true;
        let workSessionsCompleted = 0;
        let shortBreaksCompleted = 0;
        let longBreaksCompleted = 0;
        let sessionsBeforeLongBreak = 4;
        let totalPoints = 0;
        let totalTasksCompleted = 0;
        let totalPomodoros = 0;
        let totalPointsEarned = 0;
        
        // Motivational messages
        const motivationalMessages = [
            "Great job! You're making progress!",
            "Stay focused! You're doing amazing!",
            "Every Pomodoro counts! Keep going!",
            "You're building momentum! Don't stop now!",
            "Productivity is a habit. You're forming it!",
            "Take a deep breath and keep pushing forward!",
            "Remember why you started. You've got this!",
            "Small steps lead to big achievements!",
            "Your future self will thank you for this effort!",
            "Consistency is key! You're on the right track!"
        ];
        
        const achievementMessages = [
            "First task completed! Welcome to productivity!",
            "5 Pomodoros done! You're building a great habit!",
            "10 tasks completed! You're on fire!",
            "First reward claimed! Treat yourself!",
            "20 Pomodoros completed! You're a productivity master!"
        ];
        
        // Sample tasks
        let tasks = [
            { id: 1, title: "Complete project proposal", description: "Finish the first draft", completed: false, points: 10 },
            { id: 2, title: "Study for exam", description: "Review chapters 1-3", completed: false, points: 15 },
            { id: 3, title: "Clean workspace", description: "Organize desk and files", completed: true, points: 5 }
        ];
        
        // Sample rewards
        let rewards = [
            { id: 1, name: "Coffee Break", description: "Enjoy a 15-minute coffee break", cost: 10, claimed: false },
            { id: 2, name: "Watch a Video", description: "Watch a 10-minute fun video", cost: 15, claimed: false },
            { id: 3, name: "Snack Time", description: "Have a healthy snack", cost: 20, claimed: false },
            { id: 4, name: "Short Walk", description: "Take a 10-minute walk outside", cost: 25, claimed: false },
            { id: 5, name: "Music Session", description: "Listen to your favorite album", cost: 30, claimed: false }
        ];
        
        // DOM Elements
        const timerDisplay = document.getElementById('timer');
        const timerLabel = document.getElementById('timerLabel');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const skipBtn = document.getElementById('skipBtn');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        const motivationText = document.getElementById('motivationText');
        
        // Task elements
        const taskInput = document.getElementById('taskInput');
        const addTaskBtn = document.getElementById('addTaskBtn');
        const taskList = document.getElementById('taskList');
        
        // Reward elements
        const pointsTotal = document.getElementById('pointsTotal');
        const rewardsList = document.getElementById('rewardsList');
        
        // Statistics elements
        const totalTasksCompletedEl = document.getElementById('totalTasksCompleted');
        const totalPomodorosEl = document.getElementById('totalPomodoros');
        const totalPointsEarnedEl = document.getElementById('totalPointsEarned');
        const achievementSummary = document.getElementById('achievementSummary');
        
        // Settings elements
        const workTimeInput = document.getElementById('workTime');
        const shortBreakTimeInput = document.getElementById('shortBreakTime');
        const longBreakTimeInput = document.getElementById('longBreakTime');
        const sessionsBeforeLongBreakInput = document.getElementById('sessionsBeforeLongBreak');
        
        // Tab functionality
        const tabs = document.querySelectorAll('.tab');
        const tabPanes = document.querySelectorAll('.tab-pane');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show corresponding pane
                tabPanes.forEach(pane => pane.classList.remove('active'));
                document.getElementById(`${tabId}-pane`).classList.add('active');
            });
        });
        
        // Initialize application
        function init() {
            // Load data from localStorage
            loadFromLocalStorage();
            
            // Initialize timer
            resetTimer();
            
            // Render tasks and rewards
            renderTasks();
            renderRewards();
            updateStats();
            updateMotivationalMessage();
            
            // Add event listeners
            workTimeInput.addEventListener('change', saveSettings);
            shortBreakTimeInput.addEventListener('change', saveSettings);
            longBreakTimeInput.addEventListener('change', saveSettings);
            sessionsBeforeLongBreakInput.addEventListener('change', saveSettings);
            
            // Task event listeners
            addTaskBtn.addEventListener('click', addTask);
            taskInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addTask();
            });
        }
        
        // Load data from localStorage
        function loadFromLocalStorage() {
            // Timer settings
            const savedWorkTime = localStorage.getItem('pomodoroWorkTime');
            const savedShortBreakTime = localStorage.getItem('pomodoroShortBreakTime');
            const savedLongBreakTime = localStorage.getItem('pomodoroLongBreakTime');
            const savedSessionsBeforeLongBreak = localStorage.getItem('pomodoroSessionsBeforeLongBreak');
            
            if (savedWorkTime) workTimeInput.value = savedWorkTime;
            if (savedShortBreakTime) shortBreakTimeInput.value = savedShortBreakTime;
            if (savedLongBreakTime) longBreakTimeInput.value = savedLongBreakTime;
            if (savedSessionsBeforeLongBreak) sessionsBeforeLongBreakInput.value = savedSessionsBeforeLongBreak;
            
            // Points and stats
            totalPoints = parseInt(localStorage.getItem('pomodoroPoints')) || 0;
            totalTasksCompleted = parseInt(localStorage.getItem('pomodoroTasksCompleted')) || 0;
            totalPomodoros = parseInt(localStorage.getItem('pomodoroTotalPomodoros')) || 0;
            totalPointsEarned = parseInt(localStorage.getItem('pomodoroTotalPointsEarned')) || 0;
            workSessionsCompleted = parseInt(localStorage.getItem('pomodoroWorkSessions')) || 0;
            
            // Tasks
            const savedTasks = localStorage.getItem('pomodoroTasks');
            if (savedTasks) tasks = JSON.parse(savedTasks);
            
            // Rewards
            const savedRewards = localStorage.getItem('pomodoroRewards');
            if (savedRewards) rewards = JSON.parse(savedRewards);
            
            // Update UI
            updatePointsDisplay();
        }
        
        // Save settings to localStorage
        function saveSettings() {
            localStorage.setItem('pomodoroWorkTime', workTimeInput.value);
            localStorage.setItem('pomodoroShortBreakTime', shortBreakTimeInput.value);
            localStorage.setItem('pomodoroLongBreakTime', longBreakTimeInput.value);
            localStorage.setItem('pomodoroSessionsBeforeLongBreak', sessionsBeforeLongBreakInput.value);
            
            sessionsBeforeLongBreak = parseInt(sessionsBeforeLongBreakInput.value);
            
            if (!isRunning) {
                resetTimer();
            }
        }
        
        // Save tasks and rewards to localStorage
        function saveData() {
            localStorage.setItem('pomodoroTasks', JSON.stringify(tasks));
            localStorage.setItem('pomodoroRewards', JSON.stringify(rewards));
            localStorage.setItem('pomodoroPoints', totalPoints);
            localStorage.setItem('pomodoroTasksCompleted', totalTasksCompleted);
            localStorage.setItem('pomodoroTotalPomodoros', totalPomodoros);
            localStorage.setItem('pomodoroTotalPointsEarned', totalPointsEarned);
            localStorage.setItem('pomodoroWorkSessions', workSessionsCompleted);
        }
        
        // Timer functions
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        function updateDisplay() {
            timerDisplay.textContent = formatTime(timeLeft);
        }
        
        function startTimer() {
            if (isRunning) return;
            
            isRunning = true;
            startBtn.disabled = true;
            pauseBtn.disabled = false;
            
            timer = setInterval(() => {
                timeLeft--;
                updateDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    isRunning = false;
                    sessionComplete();
                }
            }, 1000);
        }
        
        function pauseTimer() {
            if (!isRunning) return;
            
            clearInterval(timer);
            isRunning = false;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }
        
        function resetTimer() {
            clearInterval(timer);
            isRunning = false;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            
            if (isWorkSession) {
                timeLeft = parseInt(workTimeInput.value) * 60;
                timerLabel.textContent = "Work Session";
                updateSessionHighlight(true, false, false);
            } else {
                if (workSessionsCompleted > 0 && workSessionsCompleted % sessionsBeforeLongBreak === 0) {
                    timeLeft = parseInt(longBreakTimeInput.value) * 60;
                    timerLabel.textContent = "Long Break";
                    updateSessionHighlight(false, false, true);
                } else {
                    timeLeft = parseInt(shortBreakTimeInput.value) * 60;
                    timerLabel.textContent = "Short Break";
                    updateSessionHighlight(false, true, false);
                }
            }
            
            updateDisplay();
        }
        
        function skipSession() {
            pauseTimer();
            sessionComplete();
        }
        
        function sessionComplete() {
            isRunning = false;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            
            playNotificationSound();
            
            if (isWorkSession) {
                // Work session completed
                workSessionsCompleted++;
                totalPomodoros++;
                document.getElementById('workCount').textContent = workSessionsCompleted;
                isWorkSession = false;
                
                // Add points for completing a Pomodoro
                addPoints(5);
                
                // Show notification
                if (workSessionsCompleted % sessionsBeforeLongBreak === 0) {
                    showNotification("Work session completed! Take a long break!", "success");
                } else {
                    showNotification("Work session completed! Take a short break!", "success");
                }
                
                // Update stats
                updateStats();
                
            } else {
                // Break completed
                isWorkSession = true;
                showNotification("Break is over! Time to get back to work!", "info");
            }
            
            resetTimer();
            updateMotivationalMessage();
        }
        
        function updateSessionHighlight(workActive, shortBreakActive, longBreakActive) {
            document.getElementById('workSession').classList.toggle('active', workActive);
            document.getElementById('shortBreakSession').classList.toggle('active', shortBreakActive);
            document.getElementById('longBreakSession').classList.toggle('active', longBreakActive);
        }
        
        // Task Management
        function addTask() {
            const taskTitle = taskInput.value.trim();
            if (!taskTitle) return;
            
            const newTask = {
                id: Date.now(),
                title: taskTitle,
                description: "",
                completed: false,
                points: Math.floor(Math.random() * 15) + 5 // Random points between 5-20
            };
            
            tasks.unshift(newTask);
            taskInput.value = "";
            
            renderTasks();
            saveData();
            showNotification("Task added successfully!", "success");
        }
        
        function toggleTaskCompletion(taskId) {
            const taskIndex = tasks.findIndex(task => task.id === taskId);
            if (taskIndex === -1) return;
            
            const task = tasks[taskIndex];
            task.completed = !task.completed;
            
            if (task.completed) {
                // Add points for completing task
                addPoints(task.points);
                totalTasksCompleted++;
                showNotification(`Task completed! You earned ${task.points} points!`, "success");
                
                // Check for achievements
                checkAchievements();
            } else {
                // Remove points if unchecking
                addPoints(-task.points);
                totalTasksCompleted--;
                showNotification("Task marked as incomplete.", "info");
            }
            
            renderTasks();
            updateStats();
            saveData();
        }
        
        function deleteTask(taskId) {
            tasks = tasks.filter(task => task.id !== taskId);
            renderTasks();
            saveData();
            showNotification("Task deleted.", "info");
        }
        
        function renderTasks() {
            taskList.innerHTML = "";
            
            if (tasks.length === 0) {
                taskList.innerHTML = '<div class="task-item" style="text-align: center; justify-content: center;">No tasks yet. Add your first task!</div>';
                return;
            }
            
            tasks.forEach(task => {
                const taskItem = document.createElement('div');
                taskItem.className = `task-item ${task.completed ? 'completed' : ''}`;
                taskItem.innerHTML = `
                    <input type="checkbox" class="task-checkbox" ${task.completed ? 'checked' : ''} onclick="toggleTaskCompletion(${task.id})">
                    <div class="task-content">
                        <div class="task-title">${task.title}</div>
                        <div class="task-description">${task.description || 'No description'}</div>
                        <div class="task-description" style="color: #ffa500; font-size: 0.8rem;">
                            <i class="fas fa-coins"></i> ${task.points} points
                        </div>
                    </div>
                    <div class="task-actions">
                        <button onclick="deleteTask(${task.id})" style="padding: 8px; background: #ff416c;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                taskList.appendChild(taskItem);
            });
        }
        
        // Reward System
        function updatePointsDisplay() {
            pointsTotal.textContent = totalPoints;
        }
        
        function addPoints(amount) {
            totalPoints += amount;
            totalPointsEarned += amount > 0 ? amount : 0;
            updatePointsDisplay();
            saveData();
        }
        
        function claimReward(rewardId) {
            const rewardIndex = rewards.findIndex(reward => reward.id === rewardId);
            if (rewardIndex === -1) return;
            
            const reward = rewards[rewardIndex];
            
            if (totalPoints < reward.cost) {
                showNotification(`Not enough points! You need ${reward.cost} points.`, "info");
                return;
            }
            
            if (reward.claimed) {
                showNotification("Reward already claimed!", "info");
                return;
            }
            
            // Deduct points and mark as claimed
            addPoints(-reward.cost);
            rewards[rewardIndex].claimed = true;
            
            // Show notification
            showNotification(`You claimed: ${reward.name}! Enjoy your reward!`, "success");
            
            // Re-render rewards
            renderRewards();
            saveData();
        }
        
        function renderRewards() {
            rewardsList.innerHTML = "";
            
            rewards.forEach(reward => {
                const rewardItem = document.createElement('div');
                rewardItem.className = 'reward-item';
                rewardItem.innerHTML = `
                    <div class="reward-info">
                        <h4>${reward.name}</h4>
                        <p>${reward.description}</p>
                    </div>
                    <div class="reward-cost">
                        <i class="fas fa-coins"></i> ${reward.cost}
                    </div>
                    <div class="reward-actions">
                        <button onclick="claimReward(${reward.id})" ${reward.claimed || totalPoints < reward.cost ? 'disabled' : ''}>
                            ${reward.claimed ? 'Claimed' : 'Claim'}
                        </button>
                    </div>
                `;
                rewardsList.appendChild(rewardItem);
            });
        }
        
        // Statistics and Motivation
        function updateStats() {
            totalTasksCompletedEl.textContent = totalTasksCompleted;
            totalPomodorosEl.textContent = totalPomodoros;
            totalPointsEarnedEl.textContent = totalPointsEarned;
            
            // Update achievement summary
            let summary = "";
            if (totalTasksCompleted === 0) {
                summary = "Complete your first task to see achievements!";
            } else if (totalTasksCompleted < 5) {
                summary = `Great start! You've completed ${totalTasksCompleted} tasks.`;
            } else if (totalTasksCompleted < 10) {
                summary = `Impressive! ${totalTasksCompleted} tasks completed.`;
            } else {
                summary = `Amazing! You've completed ${totalTasksCompleted} tasks!`;
            }
            
            achievementSummary.textContent = summary;
        }
        
        function updateMotivationalMessage() {
            const randomIndex = Math.floor(Math.random() * motivationalMessages.length);
            motivationText.textContent = motivationalMessages[randomIndex];
        }
        
        function checkAchievements() {
            // Check for specific achievements
            if (totalTasksCompleted === 1) {
                showNotification(achievementMessages[0], "success");
            } else if (totalPomodoros === 5) {
                showNotification(achievementMessages[1], "success");
            } else if (totalTasksCompleted === 10) {
                showNotification(achievementMessages[2], "success");
            }
        }
        
        // Notification System
        function playNotificationSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1);
            } catch (e) {
                console.log("Notification sound could not be played: ", e);
            }
        }
        
        function showNotification(message, type = "info") {
            notificationText.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }
        
        // Event Listeners
        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);
        resetBtn.addEventListener('click', resetTimer);
        skipBtn.addEventListener('click', skipSession);
        
        // Initialize the app1
        init();
    </script>
</body>
<<<<<<< HEAD
</html>
=======
</html>
>>>>>>> e3786936882a25496974a3bbc0eb1d19e2d4a2c6
